
---

# 📘 离线本地有声书播放器 App 需求文档（PRD）

## 1. 产品概述

一款**完全离线、无广告、低资源占用**的本地有声书播放器。
核心目标是为用户提供稳定、流畅、干净的本地音频小说收听体验，支持批量导入文件夹和自动顺序播放，适合长时间听书用户。

---

## 2. 产品定位与目标用户

### 2.1 产品定位

一个 **专注本地播放、不开网络、极简干净** 的有声书 App，支持Android、IOS。

### 2.2 目标用户

* 喜欢听本地小说、有声书的用户
* 不喜欢联网和广告的用户
* 需要自动连播、跳过片头片尾的用户
* 需要定时 / 自动关闭播放的用户

---

## 3. 核心需求与功能点

大功能分为：导入管理、本地播放、播放增强、小功能设置、系统限制。

---

# 4. 功能需求

## 4.1 功能模块一：有声书管理

### 4.1.1 导入方式

* 支持选择 **文件夹** 导入（一次导入整个书籍目录）
* 支持拖拽（桌面端可选）
* 自动扫描文件夹下所有音频文件
* 支持的音频格式（必选）：

  * **m4a**
  * mp3
  * aac
  * wav（可选）

### 4.1.2 文件排序与识别

* 自动按文件名排序（自然排序 1,2,10 不会被排成 1,10,2）
* 支持手动调整顺序
* 支持跳过非音频文件
* 支持显示总集数、总时长

### 4.1.3 元数据

* 自动读取音频时长
* 显示每集进度条
* 支持“已听/未听/正在听”状态

---

## 4.2 功能模块二：播放器

播放器必须 **低资源占用、不卡顿**，支持长时间播放。

### 4.2.1 基础播放

* 播放 / 暂停
* 上一集 / 下一集
* 进度条拖动
* 锁屏播放控制（系统媒体控制器）
* 保持后台播放

### 4.2.2 自动播放下一集

* 播放结束自动跳到下一集
* 最后一集自动停止或循环（可设置）
* 支持自动删除“已听完”的集（可选）

---

## 4.3 功能模块三：增强播放功能

### 4.3.1 跳过片头片尾（重点功能）

用户可设置默认规则：

* **跳过开头 x 秒（默认 0-60 秒，用户可自定义）**
* **跳过结尾 x 秒（默认 0-60 秒）**

可设置为：

* 全局生效
* 单本书单独配置
* 单一音频的特殊规则（可选）

### 4.3.2 定时与自动关闭

* 定时关闭：10 / 15 / 30 / 45 / 60 分钟
* **播完 N 集自动停止**（重点需求）

  * 用户可设置 N = 1 ~ 10 集
  * 播完后自动停止并退出播放页面（可选）

---

## 4.4 功能模块四：播放附加功能

### 4.4.1 播速调节

* 0.5x～2.0x
* 步进：0.1 或 0.05

### 4.4.2 断点续播

* 退出 app 或切换书籍，会记录当前进度
* 下次自动恢复到上一集的位置

### 4.4.3 播放统计（可选）

* 今日已听 xx 分钟
* 本书累计听 xx 时长

---

## 4.5 功能模块五：设置中心

### 4.5.1 全局设置

* 默认跳过开头/结尾秒数
* 默认播放速率
* 自动下载封面（关，默认关闭）
* 是否允许扫描外置存储
* 播放结束行为：停止 / 循环 / 下一本（可选）

### 4.5.2 UI 样式

* 深色模式
* 字号可调
* 播放页面布局（简洁 / 详细）

---

## 5. UI / 页面结构

### 5.1 主页面（书架）

* 展示所有已导入的书籍
* 显示：封面（如无则默认）、书名、进度
* 按最近播放排序

### 5.2 书籍详情页

* 展示所有章节（音频文件列表）
* 显示：名称、时长、是否已播放
* 点击进入播放页

### 5.3 播放器页面

* 封面
* 进度条
* 本集标题
* 播放/暂停
* 上一集 / 下一集
* 定时器入口
* 跳过片头片尾设置入口
* 播放顺序：顺序/循环/单集循环

### 5.4 设置页面

* 全局跳过设置
* 全局定时器模式
* 存储与文件权限
* 外观

---

## 6. 系统与架构要求

### 6.1 运行要求

* 完全离线运行
* 无广告
* 占用内存 < 80MB（理想）
* CPU 占用低（长时间播放无发热）
* 支持后台长时间播放不断流

### 6.2 系统权限

* 文件读写（必需）
* 媒体控制（锁屏播放）

### 6.3 数据持久化

* 本地数据库（SQLite）存储：

  * 书籍目录
  * 章节列表
  * 播放进度
  * 用户设置

---

## 7. 非功能性要求

* **稳定性**：播放长文件不崩溃，占用资源低
* **安全性**：不收集个人数据、不联网

---

## 8. 后续可扩展功能（可选）
* 文件扫描自动识别章节名称
* 章节批量重命名
* 音量渐弱自动入睡

