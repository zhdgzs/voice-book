# /next - 获取下一步建议

作为任务规划助手，请帮我分析当前状态并给出下一步开发建议。

## 你需要做的：

1. **查看最近提交**
   - 查看最近 5 条 Git 提交记录
   - 了解最近在做什么

2. **扫描待办事项**
   - 读取 `docs/待办清单.md`
   - 了解计划中的任务

3. **扫描代码注释**
   - 扫描所有 TODO 和 FIXME 注释
   - 按文件和位置整理

4. **分析当前阶段**
   - 判断项目处于哪个开发阶段
   - 识别已完成和未完成的功能

5. **应用优先级规则**
   - 根据下面的规则排序任务
   - 给出具体可执行的建议

## 优先级判断规则

### 🔴 高优先级（必须马上做）

1. **阻塞性任务**
   - 有 FIXME 注释的代码（可能是 Bug）
   - 阻塞其他功能开发的基础功能
   - 依赖关系中的前置任务

2. **核心功能开发**
   - MVP 版本必需的功能
   - 用户核心使用场景
   - 项目基础架构

3. **紧急问题**
   - 编译错误
   - 运行时崩溃
   - 严重的性能问题

### 🟡 中优先级（近期要做）

1. **增强功能**
   - 已开始但未完成的功能
   - 计划内的新功能
   - 用户体验优化

2. **代码优化**
   - TODO 注释的代码
   - 性能优化
   - 代码重构

3. **文档完善**
   - 代码注释
   - API 文档
   - 使用说明

### 🟢 低优先级（可以考虑）

1. **非核心功能**
   - 锦上添花的功能
   - 可选的优化
   - 美化和细节调整

2. **技术债务**
   - 代码重构
   - 依赖升级
   - 测试覆盖

## 输出格式：

```
# 🎯 Voice Book 下一步建议

生成时间: [当前时间]

## 📌 当前状态
- **最近在做**: [从 Git 提交分析]
- **开发阶段**: [初始化/基础架构/核心功能/增强功能/优化完善]
- **代码状态**: [正常/有待修复问题]

## 🚀 建议优先级

### 🔴 高优先级（必须马上做）

#### 1. [任务名称]
- **原因**: [为什么要优先做这个]
- **影响**: [不做会有什么影响]
- **预计耗时**: [X 小时/天]
- **位置**: [文件路径]
- **建议**: [具体怎么做，参考哪些代码]

#### 2. [任务名称]
- ...

### 🟡 中优先级（近期要做）

#### 1. [任务名称]
- **建议时间**: [本周内/本月内]
- **位置**: [文件路径]
- **依赖**: [需要先完成什么]

#### 2. [任务名称]
- ...

### 🟢 低优先级（可以考虑）

#### 1. [任务名称]
- **说明**: [为什么优先级低]
- **建议时间**: [有空再做]

## 💡 具体行动建议

### 建议接下来：

**第一步**: [具体任务]
- 预计耗时: [X 小时]
- 依赖: [前置条件]
- 参考: [可参考的代码或文档]

**第二步**: [具体任务]
- 提交代码后运行 `/update-status` 更新项目状态

**第三步**: [具体任务]
- ...

## 📝 注意事项

- ⚠️ [开发时需要注意的事项]
- ⚠️ [需要遵循的规范]
- ⚠️ [可能遇到的问题]

## 🔍 发现的 TODO/FIXME

[列出代码中的 TODO 和 FIXME 注释]
```

## 注意事项：

- 建议要具体可执行，不要太抽象
- 考虑任务之间的依赖关系
- 给出预计耗时，帮助规划时间
- 提供参考代码或文档的位置
- 语气要积极、鼓励
